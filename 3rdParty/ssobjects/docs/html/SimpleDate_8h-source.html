<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SimpleDate.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.7 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>SimpleDate.h</h1><a href="SimpleDate_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/********************************************************************</font>
00002 <font class="comment">       Copyright (c) 2001, Lee Patterson &amp; Ant Works Software</font>
00003 <font class="comment">       http://ssobjects.sourceforge.net</font>
00004 <font class="comment"></font>
00005 <font class="comment">       Original source from http://www.codeproject.com/datetime/dateclass.asp</font>
00006 <font class="comment">       Copyright (c), Richard Stringer</font>
00007 <font class="comment"></font>
00008 <font class="comment">       filename : SimpleDate.h</font>
00009 <font class="comment"></font>
00010 <font class="comment">       changes  : 24-AUG-2000 Lee Patterson (lee@antws.com)</font>
00011 <font class="comment">                  - Removed MFC code so it will compile under other </font>
00012 <font class="comment">                    platforms.</font>
00013 <font class="comment">                  - Made more functions use const.</font>
00014 <font class="comment"></font>
00015 <font class="comment">       notes    : Most of the date alogrithms used in this class </font>
00016 <font class="comment">                  can be found at:</font>
00017 <font class="comment">                  http://www.capecod.net/~pbaum/date/date0.htm</font>
00018 <font class="comment"></font>
00019 <font class="comment">*********************************************************************/</font>
00020 
00021 <font class="preprocessor">#ifndef SIMPLEDATE_H</font>
<a name="l00022"></a><a class="code" href="SimpleDate_8h.html#a0">00022</a> <font class="preprocessor"></font><font class="preprocessor">#define SIMPLEDATE_H</font>
00023 <font class="preprocessor"></font>
00024 <font class="keyword">namespace </font>ssobjects
00025 {
00026 
00027 <font class="keyword">enum</font>{
00028     MMDDYY,
00029     DDMMYY,
00030     YYMMDD,
00031     MMDDYYYY,
00032     DDMMYYYY,
00033     YYYYMMDD,
00034 };
00035 
00036 <font class="comment">// NOTE:: If you choose any of the two digit year formats you had better be sure all</font>
00037 <font class="comment">//        dates will be in the range of 1900-1999 else there will be unexpected results</font>
00038 
00039 <font class="preprocessor">#ifdef WIN32</font>
00040 <font class="preprocessor"></font><font class="preprocessor"># define snprintf _snprintf             //make it linux like (NOTE: snprintf in Linux behaives a little different when you exceed the size</font>
00041 <font class="preprocessor"></font><font class="preprocessor">#else</font>
<a name="l00042"></a><a class="code" href="namespace__ssobjects.html#a4">00042</a> <font class="preprocessor"></font> <font class="keyword">typedef</font> <font class="keyword">const</font> <font class="keywordtype">char</font>* LPCSTR;
<a name="l00043"></a><a class="code" href="namespace__ssobjects.html#a5">00043</a>  <font class="keyword">typedef</font> <font class="keywordtype">char</font>* LPSTR;
00044 <font class="preprocessor">#endif</font>
00045 <font class="preprocessor"></font>
<a name="l00046"></a><a class="code" href="classssobjects_1_1CSimpleDate.html">00046</a> <font class="keyword">class </font>CSimpleDate  
00047 {
00048 <font class="keyword">public</font>:
00049     <font class="comment">//  constructors and destructors</font>
00050     <a class="code" href="classssobjects_1_1CSimpleDate.html#a0">CSimpleDate</a>(<font class="keywordtype">int</font> FormatType=MMDDYYYY);
00051     <a class="code" href="classssobjects_1_1CSimpleDate.html#a0">CSimpleDate</a>(LPCSTR DateString,<font class="keywordtype">int</font> FormatType=MMDDYYYY);
00052     <a class="code" href="classssobjects_1_1CSimpleDate.html#a0">CSimpleDate</a>(<font class="keywordtype">long</font> JD,<font class="keywordtype">int</font> FormatType=MMDDYYYY);
00053     <font class="keyword">virtual</font> <a class="code" href="classssobjects_1_1CSimpleDate.html#a3">~CSimpleDate</a>();
00054 
00055     <font class="comment">//  Date math routines</font>
00056     <font class="keyword">const</font>   CSimpleDate&amp; <a class="code" href="classssobjects_1_1CSimpleDate.html#a4">AddDays</a>(<font class="keywordtype">int</font> Days);
00057     <font class="keyword">const</font>   CSimpleDate&amp; <a class="code" href="classssobjects_1_1CSimpleDate.html#a5">AddYears</a>(<font class="keywordtype">int</font> Yrs);
00058     <font class="keyword">const</font>   CSimpleDate&amp; <a class="code" href="classssobjects_1_1CSimpleDate.html#a6">AddMonths</a>(<font class="keywordtype">int</font> Mon);
00059     <font class="keyword">const</font>   CSimpleDate&amp; <a class="code" href="classssobjects_1_1CSimpleDate.html#a7">SubtractYears</a>(<font class="keywordtype">int</font> Yrs);
00060     <font class="keyword">const</font>   CSimpleDate&amp; <a class="code" href="classssobjects_1_1CSimpleDate.html#a8">SubtractDays</a>(<font class="keywordtype">int</font> Days);
00061     <font class="keyword">const</font>   CSimpleDate&amp; <a class="code" href="classssobjects_1_1CSimpleDate.html#a9">SubtractMonths</a>(<font class="keywordtype">int</font> Mon);
00062     <font class="keyword">virtual</font> <font class="keywordtype">int</font>         <a class="code" href="classssobjects_1_1CSimpleDate.html#a10">YearsOld</a>();
00063 
00064     <font class="comment">// access routines;</font>
00065     LPCSTR      <a class="code" href="classssobjects_1_1CSimpleDate.html#a11">GetFullDateString</a>();
00066     LPCSTR      <a class="code" href="classssobjects_1_1CSimpleDate.html#a12">GetFullDateStringLong</a>();
00067     <font class="keyword">virtual</font>     <font class="keywordtype">int</font> <a class="code" href="classssobjects_1_1CSimpleDate.html#a13">GetDayOfWeek</a>();
00068     <font class="keyword">virtual</font>     <font class="keywordtype">bool</font> <a class="code" href="classssobjects_1_1CSimpleDate.html#a14">IsValid</a>() <font class="keyword">const</font>;
00069     <font class="keywordtype">long</font>        <a class="code" href="classssobjects_1_1CSimpleDate.html#a15">GetJulianDate</a>(); <font class="comment">// easier to use (long)CSimpelDate but some prefer this</font>
00070 
<a name="l00071"></a><a class="code" href="classssobjects_1_1CSimpleDate.html#a16">00071</a>     <font class="keyword">virtual</font>     <font class="keywordtype">int</font> <a class="code" href="classssobjects_1_1CSimpleDate.html#a16">GetDay</a>()<font class="keyword"></font>
00072 <font class="keyword">                    </font>{<font class="keywordflow">if</font>(!<a class="code" href="classssobjects_1_1CSimpleDate.html#a14">IsValid</a>()) <font class="keywordflow">return</font> 0;<font class="keywordflow">return</font> m_Day;};
<a name="l00073"></a><a class="code" href="classssobjects_1_1CSimpleDate.html#a17">00073</a>     <font class="keyword">virtual</font>     <font class="keywordtype">int</font> <a class="code" href="classssobjects_1_1CSimpleDate.html#a17">GetMonth</a>()<font class="keyword"></font>
00074 <font class="keyword">                    </font>{<font class="keywordflow">if</font>(!<a class="code" href="classssobjects_1_1CSimpleDate.html#a14">IsValid</a>()) <font class="keywordflow">return</font> 0;<font class="keywordflow">return</font> m_Month;};
<a name="l00075"></a><a class="code" href="classssobjects_1_1CSimpleDate.html#a18">00075</a>     <font class="keyword">virtual</font>     <font class="keywordtype">int</font> <a class="code" href="classssobjects_1_1CSimpleDate.html#a18">GetYear</a>()<font class="keyword"></font>
00076 <font class="keyword">                    </font>{<font class="keywordflow">if</font>(!<a class="code" href="classssobjects_1_1CSimpleDate.html#a14">IsValid</a>()) <font class="keywordflow">return</font> 0;<font class="keywordflow">return</font> m_Year;};
<a name="l00077"></a><a class="code" href="classssobjects_1_1CSimpleDate.html#a19">00077</a>     <font class="keyword">virtual</font>     <font class="keywordtype">void</font>    <a class="code" href="classssobjects_1_1CSimpleDate.html#a19">GetIntegerDate</a>(<font class="keywordtype">int</font>&amp; m, <font class="keywordtype">int</font>&amp; d,<font class="keywordtype">int</font>&amp; y)<font class="keyword"></font>
00078 <font class="keyword">                    </font>{<font class="keywordflow">if</font>(!<a class="code" href="classssobjects_1_1CSimpleDate.html#a14">IsValid</a>()) <font class="keywordflow">return</font>;m=m_Month;y=m_Year;d=m_Day;};
<a name="l00079"></a><a class="code" href="classssobjects_1_1CSimpleDate.html#a20">00079</a>     <font class="keyword">virtual</font>     <font class="keywordtype">int</font>     <a class="code" href="classssobjects_1_1CSimpleDate.html#a20">GetHour</a>()<font class="keyword"></font>
00080 <font class="keyword">                    </font>{<font class="keywordflow">if</font>(!<a class="code" href="classssobjects_1_1CSimpleDate.html#a14">IsValid</a>()) <font class="keywordflow">return</font> 0;<font class="keywordflow">return</font> m_Hour+m_bPM*12;};
<a name="l00081"></a><a class="code" href="classssobjects_1_1CSimpleDate.html#a21">00081</a>     <font class="keyword">virtual</font>     <font class="keywordtype">int</font>     <a class="code" href="classssobjects_1_1CSimpleDate.html#a21">GetMin</a>()<font class="keyword"></font>
00082 <font class="keyword">                    </font>{<font class="keywordflow">if</font>(!<a class="code" href="classssobjects_1_1CSimpleDate.html#a14">IsValid</a>()) <font class="keywordflow">return</font> 0;<font class="keywordflow">return</font> m_Min;};
<a name="l00083"></a><a class="code" href="classssobjects_1_1CSimpleDate.html#a22">00083</a>     <font class="keyword">virtual</font>     <font class="keywordtype">int</font>     <a class="code" href="classssobjects_1_1CSimpleDate.html#a22">GetSeconds</a>()<font class="keyword"></font>
00084 <font class="keyword">                    </font>{<font class="keywordflow">if</font>(!<a class="code" href="classssobjects_1_1CSimpleDate.html#a14">IsValid</a>()) <font class="keywordflow">return</font> 0;<font class="keywordflow">return</font> m_Second;};
00085 
00086     <font class="keyword">virtual</font>     <font class="keywordtype">void</font>    <a class="code" href="classssobjects_1_1CSimpleDate.html#a23">GetTimeString</a>(LPSTR s,<font class="keywordtype">int</font> nLen,<font class="keywordtype">bool</font> AmPm=<font class="keyword">true</font>);
00087     <font class="keyword">virtual</font>     <font class="keywordtype">void</font>    <a class="code" href="classssobjects_1_1CSimpleDate.html#a24">GetTimeStringShort</a>(LPSTR s,<font class="keywordtype">int</font> nLen,<font class="keywordtype">bool</font> AmPm=<font class="keyword">true</font>);
00088 
00089     <font class="comment">//  operator assignments conversions equality etc...</font>
00090     operator    LPCSTR();
00091     operator    long() <font class="keyword">const</font>;
00092     <font class="keyword">const</font> CSimpleDate&amp; <a class="code" href="classssobjects_1_1CSimpleDate.html#a27">operator = </a>(<font class="keyword">const</font> CSimpleDate&amp; Date);
00093     <font class="keyword">const</font> CSimpleDate&amp; <a class="code" href="classssobjects_1_1CSimpleDate.html#a27">operator = </a>(LPCSTR Date);
00094     <font class="keywordtype">bool</font> <a class="code" href="classssobjects_1_1CSimpleDate.html#a29">operator &gt; </a>(<font class="keyword">const</font> CSimpleDate&amp; Date) <font class="keyword">const</font>;
00095     <font class="keywordtype">bool</font> <a class="code" href="classssobjects_1_1CSimpleDate.html#a30">operator &lt; </a>(<font class="keyword">const</font> CSimpleDate&amp; Date) <font class="keyword">const</font>;
00096     <font class="keywordtype">bool</font> <a class="code" href="classssobjects_1_1CSimpleDate.html#a31">operator &gt;= </a>(<font class="keyword">const</font> CSimpleDate&amp; Date) <font class="keyword">const</font>;
00097     <font class="keywordtype">bool</font> <a class="code" href="classssobjects_1_1CSimpleDate.html#a32">operator &lt;= </a>(<font class="keyword">const</font> CSimpleDate&amp; Date) <font class="keyword">const</font>;
00098     <font class="keywordtype">bool</font> <a class="code" href="classssobjects_1_1CSimpleDate.html#a33">operator == </a>(<font class="keyword">const</font> CSimpleDate&amp; Date) <font class="keyword">const</font>;
00099     <font class="keywordtype">bool</font> <a class="code" href="classssobjects_1_1CSimpleDate.html#a34">operator != </a>(<font class="keyword">const</font> CSimpleDate&amp; Date) <font class="keyword">const</font>;
00100     <font class="keywordtype">bool</font> <a class="code" href="classssobjects_1_1CSimpleDate.html#a29">operator &gt; </a>(LPCSTR Date) <font class="keyword">const</font>;
00101     <font class="keywordtype">bool</font> <a class="code" href="classssobjects_1_1CSimpleDate.html#a30">operator &lt; </a>(LPCSTR Date) <font class="keyword">const</font>;
00102     <font class="keywordtype">bool</font> <a class="code" href="classssobjects_1_1CSimpleDate.html#a31">operator &gt;= </a>(LPCSTR Date) <font class="keyword">const</font>;
00103     <font class="keywordtype">bool</font> <a class="code" href="classssobjects_1_1CSimpleDate.html#a32">operator &lt;= </a>(LPCSTR Date) <font class="keyword">const</font>;
00104     <font class="keywordtype">bool</font> <a class="code" href="classssobjects_1_1CSimpleDate.html#a33">operator == </a>(LPCSTR Date) <font class="keyword">const</font>;
00105     <font class="keywordtype">bool</font> <a class="code" href="classssobjects_1_1CSimpleDate.html#a34">operator != </a>(LPCSTR Date) <font class="keyword">const</font>;
00106 
00107 
00108 
00109 <font class="keyword">protected</font>:
00110     <font class="comment">//  internal class stuff</font>
00111     <font class="keyword">virtual</font> <font class="keywordtype">bool</font>    <a class="code" href="classssobjects_1_1CSimpleDate.html#b0">SetToday</a>();
00112     <font class="keyword">virtual</font> <font class="keywordtype">bool</font>    CSimpleDate::ParseDateString(LPCSTR,<font class="keywordtype">int</font>&amp; m,<font class="keywordtype">int</font>&amp; d,<font class="keywordtype">int</font>&amp; y);
00113     <font class="keyword">virtual</font> <font class="keywordtype">bool</font>    <a class="code" href="classssobjects_1_1CSimpleDate.html#b1">ParseDateString</a>(LPCSTR);
00114     <font class="keyword">virtual</font> <font class="keywordtype">long</font>    <a class="code" href="classssobjects_1_1CSimpleDate.html#b4">ConvertToJulian</a>( <font class="keywordtype">int</font> month,<font class="keywordtype">int</font> day,<font class="keywordtype">int</font> year);
00115     <font class="keyword">virtual</font> <font class="keywordtype">long</font>    <a class="code" href="classssobjects_1_1CSimpleDate.html#b4">ConvertToJulian</a>();
00116     <font class="keyword">virtual</font> <font class="keywordtype">void</font>    <a class="code" href="classssobjects_1_1CSimpleDate.html#b6">ConvertFromJulian</a>(<font class="keywordtype">int</font>&amp; Month,<font class="keywordtype">int</font>&amp; Day,<font class="keywordtype">int</font>&amp; Year);
00117     <font class="keyword">virtual</font> <font class="keywordtype">void</font>    <a class="code" href="classssobjects_1_1CSimpleDate.html#b6">ConvertFromJulian</a>();
00118     <font class="keyword">virtual</font> <font class="keywordtype">void</font>    <a class="code" href="classssobjects_1_1CSimpleDate.html#b7">AdjustDays</a>();
00119     <font class="keyword">virtual</font> <font class="keywordtype">void</font> <a class="code" href="classssobjects_1_1CSimpleDate.html#b8">SetTime</a>();
00120 
00121     <font class="comment">//  STATIC MEMBER FUNCTIONS</font>
00122 <font class="keyword">public</font>:  
00123     
00124     <font class="comment">// the static functions assume a date format of MMDDYY or MMDDYYYY</font>
00125     <font class="comment">//  They also do not call this IsValid() function</font>
00126     <font class="keyword">static</font>  <font class="keywordtype">bool</font>    <a class="code" href="classssobjects_1_1CSimpleDate.html#d0">VerifyDateFormat</a>(LPCSTR date);
00127     <font class="keyword">static</font>  <font class="keywordtype">bool</font>    <a class="code" href="classssobjects_1_1CSimpleDate.html#d1">FixDateFormat</a>(LPSTR date);
00128     
00129 
00130     <font class="comment">//  class data</font>
00131 <font class="keyword">protected</font>:
<a name="l00132"></a><a class="code" href="classssobjects_1_1CSimpleDate.html#n0">00132</a>     <font class="keywordtype">int</font>         m_Year;
<a name="l00133"></a><a class="code" href="classssobjects_1_1CSimpleDate.html#n1">00133</a>     <font class="keywordtype">int</font>         m_Month;
<a name="l00134"></a><a class="code" href="classssobjects_1_1CSimpleDate.html#n2">00134</a>     <font class="keywordtype">int</font>         m_Day;
<a name="l00135"></a><a class="code" href="classssobjects_1_1CSimpleDate.html#n3">00135</a>     <font class="keywordtype">long</font>        m_JulianDate;
<a name="l00136"></a><a class="code" href="classssobjects_1_1CSimpleDate.html#n4">00136</a>     <font class="keywordtype">int</font>         m_Format;
<a name="l00137"></a><a class="code" href="classssobjects_1_1CSimpleDate.html#n5">00137</a>     <font class="keywordtype">char</font>        m_DateString[80];
00138 
<a name="l00139"></a><a class="code" href="classssobjects_1_1CSimpleDate.html#n6">00139</a>     <font class="keywordtype">int</font>         m_Hour;
<a name="l00140"></a><a class="code" href="classssobjects_1_1CSimpleDate.html#n7">00140</a>     <font class="keywordtype">int</font>         m_Min;
<a name="l00141"></a><a class="code" href="classssobjects_1_1CSimpleDate.html#n8">00141</a>     <font class="keywordtype">int</font>         m_Second;
<a name="l00142"></a><a class="code" href="classssobjects_1_1CSimpleDate.html#n9">00142</a>     <font class="keywordtype">bool</font>        m_bPM;
00143 
00144 };
00145 
00146 };
00147 
00148 <font class="preprocessor">#endif  //SIMPLEDATE_H</font>
00149 <font class="preprocessor"></font>
</pre></div><hr><address><small>Generated at Tue Sep 25 00:26:36 2001 for SimpleServerObjects by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.7 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
